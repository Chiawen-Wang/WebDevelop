/*书籍信息*/
var model = {
    Technology: {
        computer: [
            {
                name: 'computer1',
                imgUrl: 'http://placekitten.com/130/180',
                price: 10
            },
            {
                name: 'computer2',
                imgUrl: 'http://placekitten.com/127/160',
                price: 19
            },
            {
                name: 'computer3',
                imgUrl: 'http://placekitten.com/127/160',
                price: 22
            },
            {
                name: 'computer4',
                imgUrl: 'http://placekitten.com/127/160',
                price: 5
            },

        ],

        Network:[
             {
                name: 'Network1',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Network2',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Network 3',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Network 4',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
        ],

        Maths:[
             {
                name: 'Math 1',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Math 2',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Math 3',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Math 4',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
        ],
        OperatingSystems:[
             {
                name: 'Operating 1',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Operating 2',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Operating 3',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Operating 4',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
        ],
    },

    Science: {
        "Agricultural Sciences": [
            {
                name: '这就是二十四节气',
                imgUrl: 'http://img3x5.ddimg.cn/20/15/23808035-1_l_2.jpg',
                price: 27.3
            },
            {
                name: 'Agricultural 2',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Agricultural 3',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Agricultural 4',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },

        ],

        Astronomy:[
             {
                name: 'Astronomy 1',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Astronomy 2',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Astronomy 3',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Astronomy 4',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
        ],

        "Behavioral Sciences":[
             {
                name: '天才在左疯子在右（完整版）',
                imgUrl: 'http://img3x0.ddimg.cn/28/9/23822200-1_l_11.jpg',
                price: 16.9
            },
            {
                name: 'Behavioral 2',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Behavioral 3',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Behavioral 4',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
        ],
        "Earth Sciences":[
             {
                name: 'Earth 1',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Earth 2',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Earth 3',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Earth 4',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
        ],
    },

    Art: {
        "Music": [
            {
                name: 'Music 1',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Music 2',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Music 3',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Music 4',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },

        ],

        "Exhibitions":[
             {
                name: 'Exhibitions 1',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Exhibitions 2',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Exhibitions 3',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Exhibitions 4',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
        ],

        "Drawing":[
             {
                name: 'Drawing 1',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Drawing 2',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Drawing 3',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Drawing 4',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
        ],
        "Photography":[
             {
                name: 'Photography 1',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Photography 2',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Photography 3',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Photography 4',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
        ],
    },

    Novel: {
        "Action": [
            {
                name: '白夜行',
                imgUrl: 'http://img3x3.ddimg.cn/25/30/22935553-1_l_1.jpg',
                price: 19.3
            },
            {
                name: '围城',
                imgUrl: 'http://img3x4.ddimg.cn/32/28/22819334-1_l_3.jpg',
                price: 29.6
            },
            {
                name: 'Action 3',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Action 4',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },

        ],

        "Comic":[
             {
                name: 'Comic 1',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Comic 2',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Comic 3',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Comic 4',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
        ],

        "Biographies":[
             {
                name: 'Biographies 1',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Biographies 2',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Biographies 3',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Biographies 4',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
        ],
        "Romance":[
             {
                name: 'Romance 1',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Romance 2',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Romance 3',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Romance 4',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
        ],
    },

    Sports: {
        "Baseball": [
            {
                name: 'Baseball 1',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Baseball 2',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Baseball 3',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Baseball 4',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },

        ],

        "Basketball":[
             {
                name: 'Basketball 1',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Basketball 2',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Basketball 3',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Basketball 4',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
        ],

        "Football":[
             {
                name: 'Football 1',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Football 2',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Football 3',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Football 4',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
        ],
        "Hockey":[
             {
                name: 'Hockey 1',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Hockey 2',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Hockey 3',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
            {
                name: 'Hockey 4',
                imgUrl: 'http://placekitten.com/127/160',
                price: 10
            },
        ],
    },
};
/*控制view与model之间的关系*/
var control = {
    /*点击Technology时需添加相关的书*/
    addinfo_Tech : function () {
            var li = document.getElementsByTagName('li');
            for(var i=0; i < li.length; i++){
                li[i].style.backgroundColor = '#BAE1F2';
                li[i].style.color = 'grey';
                li[i].onmouseover = function(e){

                    var theEvent = window.event || e;
                    var srcElement = theEvent.srcElement;
                    if (!srcElement) {

                        srcElement = theEvent.target;
                    }
                    theEvent.target.style.color = 'white';
                };
                li[i].onmouseleave = function(e){

                    var theEvent = window.event || e;
                    var srcElement = theEvent.srcElement;
                    if (!srcElement) {

                        srcElement = theEvent.target;
                    }


                    theEvent.target.style.color = 'grey';
                };

            }
            var detailContent = document.getElementById('detailContent');
            detailContent.innerHTML = '';
            var navdiv = document.createElement("a");
            navdiv.setAttribute('class', 'mynav');
            navdiv.setAttribute('onclick', "control.addinfo_Tech");
            navdiv.innerHTML = '<b>Technology</b>'+ '<b>&#187<b>'+'<hr style="margin-top:0px">';
            detailContent.appendChild(navdiv);

            model.Technology.computer.forEach(function(book) {
            var div = document.createElement('div');
            div.setAttribute('class', 'bookInfo');
            div.setAttribute("draggable","true");
            div.setAttribute("ondragstart","control.dragStart(event)");
            div.setAttribute("id", `${book.name}`)
            div.setAttribute("value", `${book.price}`)
            div.innerHTML = `<img draggable='false' value=${book.price}  src=${book.imgUrl} alt="bookCoverImg" width="127" height="160"> <h5>${book.name}</h5> <p>Price: ￥${book.price}</p>`;
            detailContent.appendChild(div);
            });
            model.Technology.Network.forEach(function(book) {
            var div = document.createElement('div');
            div.setAttribute('class', 'bookInfo');
            div.setAttribute("draggable","true");
            div.setAttribute("ondragstart","control.dragStart(event)");
            div.setAttribute("id", `${book.name}`)
            div.setAttribute("value", `${book.price}`)
            div.innerHTML = `<img draggable='false' value=${book.price}  src=${book.imgUrl} alt="bookCoverImg" width="127" height="160"> <h5>${book.name}</h5> <p>Price: ￥${book.price}</p>`;
            detailContent.appendChild(div);
            });
            model.Technology.Maths.forEach(function(book) {
            var div = document.createElement('div');
            div.setAttribute('class', 'bookInfo');
            div.setAttribute("draggable","true");
            div.setAttribute("ondragstart","control.dragStart(event)");
            div.setAttribute("id", `${book.name}`)
            div.setAttribute("value", `${book.price}`)
            div.innerHTML = `<img draggable='false' value=${book.price}  src=${book.imgUrl} alt="bookCoverImg" width="127" height="160"> <h5>${book.name}</h5> <p>Price: ￥${book.price}</p>`;
            detailContent.appendChild(div);
            });
            model.Technology.OperatingSystems.forEach(function(book) {
            var div = document.createElement('div');
            div.setAttribute('class', 'bookInfo');
            div.setAttribute("draggable","true");
            div.setAttribute("ondragstart","control.dragStart(event)");
            div.setAttribute("id", `${book.name}`)
            div.setAttribute("value", `${book.price}`)
            div.innerHTML = `<img draggable='false' value=${book.price}  src=${book.imgUrl} alt="bookCoverImg" width="127" height="160"> <h5>${book.name}</h5> <p>Price: ￥${book.price}</p>`;
            detailContent.appendChild(div);
            });
    },
    /*点击Science时需添加相关的书*/
    addinfo_Scien : function() {
        var li = document.getElementsByTagName('li');
            for(var i=0; i < li.length; i++){
                li[i].style.backgroundColor = '#BAE1F2';
                li[i].style.color = 'grey';
                li[i].onmouseover = function(e){

                    var theEvent = window.event || e;
                    var srcElement = theEvent.srcElement;
                    if (!srcElement) {

                        srcElement = theEvent.target;
                    }
                    theEvent.target.style.color = 'white';
                };
                li[i].onmouseleave = function(e){

                    var theEvent = window.event || e;
                    var srcElement = theEvent.srcElement;
                    if (!srcElement) {

                        srcElement = theEvent.target;
                    }


                    theEvent.target.style.color = 'grey';
                };

            }
        var detailContent = document.getElementById('detailContent');
            detailContent.innerHTML = '';
            var navdiv = document.createElement("a");
            navdiv.setAttribute('class', 'mynav');
            navdiv.setAttribute('onclick', "control.addinfo_Scien");
            navdiv.innerHTML = '<b>Science</b>'+ '<b>&#187<b>'+'<hr style="margin-top:0px">';
            detailContent.appendChild(navdiv);

            model["Science"]["Agricultural Sciences"].forEach(function(book) {
            var div = document.createElement('div');
            div.setAttribute('class', 'bookInfo');
            div.setAttribute("draggable","true");
            div.setAttribute("ondragstart","control.dragStart(event)");
            div.setAttribute("id", `${book.name}`)
            div.setAttribute("value", `${book.price}`)
            div.innerHTML = `<img draggable='false' value=${book.price}  src=${book.imgUrl} alt="bookCoverImg" width="127" height="160"> <h5>${book.name}</h5> <p>Price: ￥${book.price}</p>`;
            detailContent.appendChild(div);
        });

            model["Science"]["Astronomy"].forEach(function(book) {
            var div = document.createElement('div');
            div.setAttribute('class', 'bookInfo');
            div.setAttribute("draggable","true");
            div.setAttribute("ondragstart","control.dragStart(event)");
            div.setAttribute("id", `${book.name}`)
            div.setAttribute("value", `${book.price}`)
            div.innerHTML = `<img draggable='false' value=${book.price}  src=${book.imgUrl} alt="bookCoverImg" width="127" height="160"> <h5>${book.name}</h5> <p>Price: ￥${book.price}</p>`;
            detailContent.appendChild(div);
        });

            model["Science"]["Behavioral Sciences"].forEach(function(book) {
            var div = document.createElement('div');
            div.setAttribute('class', 'bookInfo');
            div.setAttribute("draggable","true");
            div.setAttribute("ondragstart","control.dragStart(event)");
            div.setAttribute("id", `${book.name}`)
            div.setAttribute("value", `${book.price}`)
            div.innerHTML = `<img draggable='false' value=${book.price}  src=${book.imgUrl} alt="bookCoverImg" width="127" height="160"> <h5>${book.name}</h5> <p>Price: ￥${book.price}</p>`;
            detailContent.appendChild(div);
        });
            model["Science"]["Earth Sciences"].forEach(function(book) {
            var div = document.createElement('div');
            div.setAttribute('class', 'bookInfo');
            div.setAttribute("draggable","true");
            div.setAttribute("ondragstart","control.dragStart(event)");
            div.setAttribute("id", `${book.name}`)
            div.setAttribute("value", `${book.price}`)
            div.innerHTML = `<img draggable='false' value=${book.price}  src=${book.imgUrl} alt="bookCoverImg" width="127" height="160"> <h5>${book.name}</h5> <p>Price: ￥${book.price}</p>`;
            detailContent.appendChild(div);
        });
    },
    /*点击Art时需添加相关的书*/
    addinfo_Art : function () {
        var li = document.getElementsByTagName('li');
            for(var i=0; i < li.length; i++){
                li[i].style.backgroundColor = '#BAE1F2';
                li[i].style.color = 'grey';
                li[i].onmouseover = function(e){

                    var theEvent = window.event || e;
                    var srcElement = theEvent.srcElement;
                    if (!srcElement) {

                        srcElement = theEvent.target;
                    }
                    theEvent.target.style.color = 'white';
                };
                li[i].onmouseleave = function(e){

                    var theEvent = window.event || e;
                    var srcElement = theEvent.srcElement;
                    if (!srcElement) {

                        srcElement = theEvent.target;
                    }


                    theEvent.target.style.color = 'grey';
                };

            }
        var detailContent = document.getElementById('detailContent');
            detailContent.innerHTML = '';
             navdiv = document.createElement("a");
            navdiv.setAttribute('class', 'mynav');
            navdiv.setAttribute('onclick', "control.addinfo_Art");
            navdiv.innerHTML = '<b>Art</b>'+ '<b>&#187<b>'+'<hr style="margin-top:0px">';
            detailContent.appendChild(navdiv);
            model["Art"]["Music"].forEach(function(book) {
            var div = document.createElement('div');
            div.setAttribute('class', 'bookInfo');
            div.setAttribute("draggable","true");
            div.setAttribute("ondragstart","control.dragStart(event)");
            div.setAttribute("id", `${book.name}`)
            div.setAttribute("value", `${book.price}`)
            div.innerHTML = `<img draggable='false' value=${book.price}  src=${book.imgUrl} alt="bookCoverImg" width="127" height="160"> <h5>${book.name}</h5> <p>Price: ￥${book.price}</p>`;
            detailContent.appendChild(div);
        });

            model["Art"]["Exhibitions"].forEach(function(book) {
            var div = document.createElement('div');
            div.setAttribute('class', 'bookInfo');
            div.setAttribute("draggable","true");
            div.setAttribute("ondragstart","control.dragStart(event)");
            div.setAttribute("id", `${book.name}`)
            div.setAttribute("value", `${book.price}`)
            div.innerHTML = `<img draggable='false' value=${book.price}  src=${book.imgUrl} alt="bookCoverImg" width="127" height="160"> <h5>${book.name}</h5> <p>Price: ￥${book.price}</p>`;
            detailContent.appendChild(div);
        });

            model["Art"]["Drawing"].forEach(function(book) {
            var div = document.createElement('div');
            div.setAttribute('class', 'bookInfo');
            div.setAttribute("draggable","true");
            div.setAttribute("ondragstart","control.dragStart(event)");
            div.setAttribute("id", `${book.name}`)
            div.setAttribute("value", `${book.price}`)
            div.innerHTML = `<img draggable='false' value=${book.price}  src=${book.imgUrl} alt="bookCoverImg" width="127" height="160"> <h5>${book.name}</h5> <p>Price: ￥${book.price}</p>`;
            detailContent.appendChild(div);
        });
            model["Art"]["Photography"].forEach(function(book) {
            var div = document.createElement('div');
            div.setAttribute('class', 'bookInfo');
            div.setAttribute("draggable","true");
            div.setAttribute("ondragstart","control.dragStart(event)");
            div.setAttribute("id", `${book.name}`)
            div.setAttribute("value", `${book.price}`)
            div.innerHTML = `<img draggable='false' value=${book.price}  src=${book.imgUrl} alt="bookCoverImg" width="127" height="160"> <h5>${book.name}</h5> <p>Price: ￥${book.price}</p>`;
            detailContent.appendChild(div);
        });
    },
    /*点击Novel时需添加相关的书*/
    addinfo_Novel : function() {
        var li = document.getElementsByTagName('li');
            for(var i=0; i < li.length; i++){
                li[i].style.backgroundColor = '#BAE1F2';
                li[i].style.color = 'grey';
                li[i].onmouseover = function(e){

                    var theEvent = window.event || e;
                    var srcElement = theEvent.srcElement;
                    if (!srcElement) {

                        srcElement = theEvent.target;
                    }
                    theEvent.target.style.color = 'white';
                };
                li[i].onmouseleave = function(e){

                    var theEvent = window.event || e;
                    var srcElement = theEvent.srcElement;
                    if (!srcElement) {

                        srcElement = theEvent.target;
                    }


                    theEvent.target.style.color = 'grey';
                };

            }
        var detailContent = document.getElementById('detailContent');
            detailContent.innerHTML = '';
            navdiv = document.createElement("a");
            navdiv.setAttribute('class', 'mynav');
            navdiv.setAttribute('onclick', "control.addinfo_Novel");
            navdiv.innerHTML = '<b>Novel</b>'+ '<b>&#187<b>'+'<hr style="margin-top:0px">';
            detailContent.appendChild(navdiv);
            model["Novel"]["Action"].forEach(function(book) {
            var div = document.createElement('div');
            div.setAttribute('class', 'bookInfo');
            div.setAttribute("draggable","true");
            div.setAttribute("ondragstart","control.dragStart(event)");
            div.setAttribute("id", `${book.name}`)
            div.setAttribute("value", `${book.price}`)
            div.innerHTML = `<img draggable='false' value=${book.price}  src=${book.imgUrl} alt="bookCoverImg" width="127" height="160"> <h5>${book.name}</h5> <p>Price: ￥${book.price}</p>`;
            detailContent.appendChild(div);
        });

            model["Novel"]["Comic"].forEach(function(book) {
            var div = document.createElement('div');
            div.setAttribute('class', 'bookInfo');
            div.setAttribute("draggable","true");
            div.setAttribute("ondragstart","control.dragStart(event)");
            div.setAttribute("id", `${book.name}`)
            div.setAttribute("value", `${book.price}`)
            div.innerHTML = `<img draggable='false' value=${book.price}  src=${book.imgUrl} alt="bookCoverImg" width="127" height="160"> <h5>${book.name}</h5> <p>Price: ￥${book.price}</p>`;
            detailContent.appendChild(div);
        });

            model["Novel"]["Biographies"].forEach(function(book) {
            var div = document.createElement('div');
            div.setAttribute('class', 'bookInfo');
            div.setAttribute("draggable","true");
            div.setAttribute("ondragstart","control.dragStart(event)");
            div.setAttribute("id", `${book.name}`)
            div.setAttribute("value", `${book.price}`)
            div.innerHTML = `<img draggable='false' value=${book.price}  src=${book.imgUrl} alt="bookCoverImg" width="127" height="160"> <h5>${book.name}</h5> <p>Price: ￥${book.price}</p>`;
            detailContent.appendChild(div);
        });
            model["Novel"]["Romance"].forEach(function(book) {
            var div = document.createElement('div');
            div.setAttribute('class', 'bookInfo');
            div.setAttribute("draggable","true");
            div.setAttribute("ondragstart","control.dragStart(event)");
            div.setAttribute("id", `${book.name}`)
            div.setAttribute("value", `${book.price}`)
            div.innerHTML = `<img draggable='false' value=${book.price}  src=${book.imgUrl} alt="bookCoverImg" width="127" height="160"> <h5>${book.name}</h5> <p>Price: ￥${book.price}</p>`;
            detailContent.appendChild(div);
        });
    },
    /*点击Sports时需添加相关的书*/
    addinfo_Sports : function() {
        var li = document.getElementsByTagName('li');
            for(var i=0; i < li.length; i++){
                li[i].style.backgroundColor = '#BAE1F2';
                li[i].style.color = 'grey';
                li[i].onmouseover = function(e){

                    var theEvent = window.event || e;
                    var srcElement = theEvent.srcElement;
                    if (!srcElement) {

                        srcElement = theEvent.target;
                    }
                    theEvent.target.style.color = 'white';
                };
                li[i].onmouseleave = function(e){

                    var theEvent = window.event || e;
                    var srcElement = theEvent.srcElement;
                    if (!srcElement) {

                        srcElement = theEvent.target;
                    }


                    theEvent.target.style.color = 'grey';
                };

            }
        var detailContent = document.getElementById('detailContent');
            detailContent.innerHTML = '';
            navdiv = document.createElement("a");
            navdiv.setAttribute('class', 'mynav');
            navdiv.setAttribute('onclick', "control.addinfo_Sports");
            navdiv.innerHTML = '<b>Sports</b>'+ '<b>&#187<b>'+'<hr style="margin-top:0px">';
            detailContent.appendChild(navdiv);
            model["Sports"]["Baseball"].forEach(function(book) {
            var div = document.createElement('div');
            div.setAttribute('class', 'bookInfo');
            div.setAttribute("draggable","true");
            div.setAttribute("ondragstart","control.dragStart(event)");
            div.setAttribute("id", `${book.name}`)
            div.setAttribute("value", `${book.price}`)
            div.innerHTML = `<img draggable='false' value=${book.price}  src=${book.imgUrl} alt="bookCoverImg" width="127" height="160"> <h5>${book.name}</h5> <p>Price: ￥${book.price}</p>`;
            detailContent.appendChild(div);
        });

            model["Sports"]["Basketball"].forEach(function(book) {
            var div = document.createElement('div');
            div.setAttribute('class', 'bookInfo');
            div.setAttribute("draggable","true");
            div.setAttribute("ondragstart","control.dragStart(event)");
            div.setAttribute("id", `${book.name}`)
            div.setAttribute("value", `${book.price}`)
            div.innerHTML = `<img draggable='false' value=${book.price}  src=${book.imgUrl} alt="bookCoverImg" width="127" height="160"> <h5>${book.name}</h5> <p>Price: ￥${book.price}</p>`;
            detailContent.appendChild(div);
        });

            model["Sports"]["Football"].forEach(function(book) {
            var div = document.createElement('div');
            div.setAttribute('class', 'bookInfo');
            div.setAttribute("draggable","true");
            div.setAttribute("ondragstart","control.dragStart(event)");
            div.setAttribute("id", `${book.name}`)
            div.setAttribute("value", `${book.price}`)
            div.innerHTML = `<img draggable='false' value=${book.price}  src=${book.imgUrl} alt="bookCoverImg" width="127" height="160"> <h5>${book.name}</h5> <p>Price: ￥${book.price}</p>`;
            detailContent.appendChild(div);
        });
            model["Sports"]["Hockey"].forEach(function(book) {
            var div = document.createElement('div');
            div.setAttribute('class', 'bookInfo');
            div.setAttribute("draggable","true");
            div.setAttribute("ondragstart","control.dragStart(event)");
            div.setAttribute("id", `${book.name}`)
            div.setAttribute("value", `${book.price}`)
            div.innerHTML = `<img draggable='false' value=${book.price}  src=${book.imgUrl} alt="bookCoverImg" width="127" height="160"> <h5>${book.name}</h5> <p>Price: ￥${book.price}</p>`;
            detailContent.appendChild(div);
        });
    },
    /*点击子菜单时需添加相关的书*/
    addinfo_detail : function(bookParent,booktype,) {
        var a = bookParent;
        var b = booktype;
        return function(a, b,){
            var ev = window.event || arguments[0];              //FireFox不兼容event，所以需直接传参
            var li = document.getElementsByTagName('li');
            for(var i=0; i < li.length; i++){
                li[i].style.backgroundColor = '#BAE1F2';
                li[i].style.color = 'grey';
                li[i].onmouseover = function(e){
                    var theEvent = window.event || e;            //FireFox不兼容event，所以需直接传参
                    var srcElement = theEvent.srcElement;
                    if (!srcElement) {
                        srcElement = theEvent.target;
                    }
                    theEvent.target.style.color = 'white';
                };
                li[i].onmouseleave = function(e){
                    var theEvent = window.event || e;
                    var srcElement = theEvent.srcElement;
                    if (!srcElement) {
                        srcElement = theEvent.target;
                    }
                    theEvent.target.style.color = 'grey';
                };
            }                                                    //单独点击某一个子菜单时其他菜单需要恢复颜色
            document.getElementById(ev.target.id).style.backgroundColor = 'lightgrey';  //所点击的菜单变色
            document.getElementById(ev.target.id).style.color = 'white';
            var detailContent = document.getElementById('detailContent');
            detailContent.innerHTML = '';
            navdiv = document.createElement("span");
            navdiv.setAttribute('class', 'mynav');
            switch (bookParent) {
                case 'Technology':
                    navdiv.innerHTML = `<a><b onclick = "control.addinfo_Tech()">${bookParent}</b></a><b>&#187<b><a><b>${booktype}</b></a><hr style="margin-top:0px">`// statements_1
                    break;
                case 'Science':
                    navdiv.innerHTML = `<a onclick= "control.addinfo_Scien()"><b>${bookParent}</b></a><b>&#187<b><a><b>${booktype}</b></a><hr style="margin-top:0px">`
                    break;
                case 'Art':
                    navdiv.innerHTML = `<a onclick="control.addinfo_Art()"><b>${bookParent}</b></a><b>&#187<b><a><b>${booktype}</b></a><hr style="margin-top:0px">`
                    break;
                case 'Novel':
                    navdiv.innerHTML = `<a onclick="control.addinfo_Novel()"><b>${bookParent}</b></a><b>&#187<b><a><b>${booktype}</b></a><hr style="margin-top:0px">`
                    break;
                case 'Sports':
                    navdiv.innerHTML = `<a onclick="control.addinfo_Sports()"><b>${bookParent}</b></a><b>&#187<b><a><b>${booktype}</b></a><hr style="margin-top:0px">`
                    break;
                default:
                    navdiv.innerHTML = `<a><b>${bookParent}</b></a><b>&#187<b><a><b>${booktype}</b></a><hr style="margin-top:0px">`// statements_def
                    break;
            }
            detailContent.appendChild(navdiv);
            model[bookParent][booktype].forEach( function(book) {
            var div = document.createElement('div');
            div.setAttribute('class', 'bookInfo');
            div.setAttribute("draggable","true");
            div.setAttribute("ondragstart","control.dragStart(event)");
            div.setAttribute("id", `${book.name}`)
            div.setAttribute("value", `${book.price}`)
            div.innerHTML = `<img draggable='false' value=${book.price}  src=${book.imgUrl} alt="bookCoverImg" width="127" height="160"> <h5>${book.name}</h5> <p>Price: ￥${book.price}</p>`;
            detailContent.appendChild(div);
        });
     };
    },
    /*拖拽开始时，拖拽对象转移数据*/
    dragStart : function (ev) {

        //ev.dataTransfer.effectAllowed = "copy";

        ev.dataTransfer.setData("text", ev.target.id);
        //console.log(ev.target.id);
    },
    /*当用户将图片拖到shopping cart里的图片上时，需要做处理*/
    nodrop: function (ev) {
        ev.stopPropagation();
        var deletenode = document.getElementById("dragTip");
        if(deletenode != null || deletenode != undefined){
            deletenode.parentNode.removeChild(deletenode.parentNode.children[2]);
        }
        var data = ev.dataTransfer.getData("text");
        var datanode = document.getElementById(data);

        var price = datanode.getAttribute('value');
        datanode.setAttribute("draggable","false");
        datanode.setAttribute("ondrop","control.nodrop(event)");
        //var grandpaId = ev.target.parentNode.parentNode.id;
        var grandpanode = document.getElementById("Myregister");
        console.log(ev.target);
        grandpanode.appendChild(datanode);

        var div = document.createElement('div');
        div.setAttribute('class', 'counter');
        div.setAttribute('ondrop',"control.nodrop(event)");
        div.setAttribute("draggable", "false");
        div.innerHTML = `<table>
            <tbody>
                 <tr>
                    <td><input price=${price} class="countNum" onclick="control.Numchange()" type="number" name="inputNum" max='100' min='0' value='0'></td>
                 </tr>
            </tbody>
        </table> `;
        grandpanode.appendChild(div);
    },
    /*用户选择数量变换时，总价格也变化*/
    Numchange: function () {
        var Tprice = document.getElementById("TPrice");
        var counter = document.getElementsByClassName("countNum");

        var sum = 0;
        //console.log(counter[0].value);
        for(var i = 0; i < counter.length; i++){
            var price = counter[i].getAttribute('price');
            sum = sum + parseFloat(counter[i].value)*parseFloat(price);
        }

        TPrice.innerHTML = "￥" + sum;
        //window.document.getElementById("TPrice").innerHTML = sum;
    }
};

/*点击事件具体执行事件*/
document.getElementById('tech').addEventListener("click", control.addinfo_Tech);
document.getElementById('comput').addEventListener("click", control.addinfo_detail('Technology','computer'));
document.getElementById('net').addEventListener("click", control.addinfo_detail('Technology','Network'));
document.getElementById('math').addEventListener("click", control.addinfo_detail('Technology','Maths'));
document.getElementById('oper').addEventListener("click", control.addinfo_detail('Technology','OperatingSystems'));
document.getElementById('sci').addEventListener("click", control.addinfo_Scien);
document.getElementById('Ag').addEventListener("click", control.addinfo_detail('Science','Agricultural Sciences'));
document.getElementById('Ast').addEventListener("click", control.addinfo_detail('Science','Astronomy'));
document.getElementById('Behav').addEventListener("click", control.addinfo_detail('Science','Behavioral Sciences'));
document.getElementById('Ear').addEventListener("click", control.addinfo_detail('Science','Earth Sciences'));
document.getElementById('ar').addEventListener("click", control.addinfo_Art);
document.getElementById('mus').addEventListener("click", control.addinfo_detail('Art','Music'));
document.getElementById('exhi').addEventListener("click", control.addinfo_detail('Art','Exhibitions'));
document.getElementById('dr').addEventListener("click", control.addinfo_detail('Art','Drawing'));
document.getElementById('photo').addEventListener("click", control.addinfo_detail('Art','Photography'));
document.getElementById('nov').addEventListener("click", control.addinfo_Novel);
document.getElementById('act').addEventListener("click", control.addinfo_detail('Novel','Action'));
document.getElementById('comi').addEventListener("click", control.addinfo_detail('Novel','Comic'));
document.getElementById('bio').addEventListener("click", control.addinfo_detail('Novel','Biographies'));
document.getElementById('rom').addEventListener("click", control.addinfo_detail('Novel','Romance'));
document.getElementById('spor').addEventListener("click", control.addinfo_Sports);
document.getElementById('base').addEventListener("click", control.addinfo_detail('Sports','Baseball'));
document.getElementById('bask').addEventListener("click", control.addinfo_detail('Sports','Basketball'));
document.getElementById('foot').addEventListener("click", control.addinfo_detail('Sports','Football'));
document.getElementById('hoc').addEventListener("click", control.addinfo_detail('Sports','Hockey'));
/*当书籍拖入Myregister区域时做出相应处理*/
document.getElementById("Myregister").ondrop = function(ev) {
    ev.preventDefault();
    var deletenode = document.getElementById("dragTip");
    if(deletenode != null || deletenode != undefined){
        deletenode.parentNode.removeChild(deletenode.parentNode.children[2]);
    }

    var data = ev.dataTransfer.getData("text");
    //console.log(data);
    var datanode = document.getElementById(data);

    var price = datanode.getAttribute('value');
    datanode.setAttribute("draggable","false");
    datanode.setAttribute("ondrop","control.nodrop(event)");
    ev.target.appendChild(datanode);
    var div = document.createElement('div');
    div.setAttribute('class', 'counter');
    div.setAttribute('ondrop',"control.nodrop(event)");
    div.setAttribute("draggable", "false");
    div.innerHTML = `<table>
        <tbody>
            <tr>
                <td><input price=${price} class="countNum" onclick="control.Numchange()" type="number" name="inputNum" max='100' min='0' value='0'></td>

            </tr>
        </tbody>
    </table> `;
    ev.target.appendChild(div);
};
document.getElementById("Myregister").ondragover = function(ev){
    ev.preventDefault();
};
/*左菜单图标点击时菜单的变化*/
document.getElementById("scimark").onclick = function() {
    var mark = document.getElementById("scimark");
    var toggleinfo = document.getElementById("sciul");
            if(toggleinfo.style.display == 'block'){
                mark.style.transform = 'rotate(0deg)';
                toggleinfo.style.display = 'none';
            }else{
                mark.style.transform = 'rotate(45deg)';
                toggleinfo.style.display = 'block';
            }
};
document.getElementById("techmark").onclick = function() {
    var mark = document.getElementById("techmark");
    var toggleinfo = document.getElementById("tecul");
            if(toggleinfo.style.display == 'block'){
                mark.style.transform = 'rotate(0deg)';
                toggleinfo.style.display = 'none';
            }else{
                mark.style.transform = 'rotate(45deg)';
                toggleinfo.style.display = 'block';
            }
};
document.getElementById("artmark").onclick = function() {
    var mark = document.getElementById("artmark");
    var toggleinfo = document.getElementById("artul");
            if(toggleinfo.style.display == 'block'){
                mark.style.transform = 'rotate(0deg)';
                toggleinfo.style.display = 'none';
            }else{
                mark.style.transform = 'rotate(45deg)';
                toggleinfo.style.display = 'block';
            }
};
document.getElementById("novmark").onclick = function() {
    var mark = document.getElementById("novmark");
    var toggleinfo = document.getElementById("novul");
            if(toggleinfo.style.display == 'block'){
                mark.style.transform = 'rotate(0deg)';
                toggleinfo.style.display = 'none';
            }else{
                mark.style.transform = 'rotate(45deg)';
                toggleinfo.style.display = 'block';
            }
};
document.getElementById("spormark").onclick = function() {
    var mark = document.getElementById("spormark");
    var toggleinfo = document.getElementById("sporul");
           if(toggleinfo.style.display == 'block'){
                mark.style.transform = 'rotate(0deg)';
                toggleinfo.style.display = 'none';
            }else{
                mark.style.transform = 'rotate(45deg)';
                toggleinfo.style.display = 'block';
            }
};

